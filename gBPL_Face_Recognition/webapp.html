<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medicine Dispenser WebApp</title>
    <!-- <link rel="stylesheet" href="webapp.css" /> -->
    <!-- <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script> -->
    <!-- <script
      src="node_modules/html5-qrcode/html5-qrcode.min.js"
      type="text/javascript"
    ></script> -->
  </head>
  <script></script>
  <body>
    <nav>
      <div id="logo">Smart Medicine Dispenser</div>
    </nav>
    <p>
      Consumed Amount: 5/30 pills<br /><br /><br />
      <b
        >Last Taken Time: 29/02/2024 11:20AM <br />
        (2 minutes ago) </b
      ><br /><br />
      Next TimePoint: 29/02/2024 13:00AM (after meal) <br /><br /><br />Hope you
      have a healthy day!<br /><br />
      <a href="/">Click here to view full history of taken time</a><br />
    </p>
    <div id="CamButton">
      <div id="your-qr-result"></div>
      <button type="button" onclick="scanQR()" id="my-qr-reader">
        Scan Medicine QR Here!
      </button>
      <div id="display-result"></div>
    </div>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <!-- <script src="node_modules\html5-qrcode\html5-qrcode.min.js"></script> -->
    <!-- <script src="script.js"></script> -->
    <script>
      // script.js file

      function domReady(fn) {
        if (
          document.readyState === "complete" ||
          document.readyState === "interactive"
        ) {
          setTimeout(fn, 1000);
        } else {
          document.addEventListener("DOMContentLoaded", fn);
        }
      }

      domReady(function () {
        // If found you qr code
        function onScanSuccess(decodeText, decodeResult) {
          // alert("You Qr is : " + decodeText, decodeResult);
          document.getElementById("display-result").innerHTML =
            "Your Medicine is: " +
            decodeText +
            "<br/>You will take medicines 2 times / 1 days, each after meal (9am and 8pm).";
          document.getElementById("display-result").style.backgroundColor =
            "white";
          document.getElementById("display-result").style.borderRadius = "20px";
          document.getElementById("display-result").style.boxShadow =
            "0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)";
        }
        //   background-color: white;
        //     border-radius: 20px;
        //     box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);

        let htmlscanner = new Html5QrcodeScanner("my-qr-reader", {
          fps: 10,
          qrbos: 250,
        });
        htmlscanner.render(onScanSuccess);
      });
    </script>
  </body>
</html>
<style>
  #display-result {
    width: 100dvw;
    height: 20dvh;
    color: black;
    text-align: left;
    padding: 10px;
    font-size: 1.2rem;
    margin: 5px;
    box-sizing: border-box;
  }

  @media only screen and (max-width: 600px) {
    body {
      background-color: lightblue;
    }
  }
  nav {
    background-color: #0d7377;
    width: 100dvw;
    height: 10dvh;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  div#logo {
    color: white;
    padding: 5% 5%;
    font-size: 1.3em;
    font-weight: bold;
  }
  p {
    background-color: white;
  }
  /* webapp.css */

  /* Reset default margin and padding */
  body,
  h1,
  p {
    margin: 0;
    padding: 0;
  }

  /* Set a nice font for the entire app */
  body {
    font-family: Arial, sans-serif;
  }

  /* Style the navigation bar */
  nav {
    background-color: #0074d9;
    color: white;
    text-align: center;
    padding: 10px;
  }

  #logo {
    font-size: 1.5rem;
  }

  /* Style the main content */
  p {
    padding: 20px;
    text-align: center;
    font-size: 1.2rem;
  }

  /* Highlight important information */
  b {
    color: #ff4136;
  }

  /* Style the button */
  #CamButton {
    text-align: center;
    margin-top: 20px;
  }

  button {
    background-color: #ff851b;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 10px;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  }

  /* Make the button responsive */
  @media screen and (max-width: 600px) {
    button {
      font-size: 0.8rem;
    }
  }
</style>
